apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Base configurations for all environments
namespace: microservices

commonLabels:
  managed-by: kustomize

# Resource patches
patchesStrategicMerge:
  - patches/deployment-patch.yaml

# Common resources
resources:
  - resources/namespace.yaml
  - deployment.yaml
  - service.yaml

# Image replacement - will be overridden by overlays
images:
  - name: order-service
    newName: order-service  # Will be set by overlay
    newTag: latest
